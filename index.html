
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layout com Footer e Toggle Corrigido</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --------------------------------- */
        /* 1. VARIÁVEIS CSS GLOBAIS (:ROOT) */
        /* --------------------------------- */
        :root {
            /* Cores de Fundo (Escuro) */
            --bg-darker: #0F172A; /* Slate 900 */
            --bg-dark: #1E293B;   /* Slate 800 */
            --bg-medium: #334155; /* Slate 700 */

            /* Cores de Texto e Ícones */
            --text-primary: #67E8F9; /* Cor de Destaque / Cyan 300 */
            --text-secondary: #94A3B8; /* Texto Secundário / Slate 400 */
            --text-light: #F8FAFC; /* Branco/Claro */
            
            /* Estados e Interações */
            --color-hover: #1F2E40; /* Um pouco mais escuro que o background para hover */
            --color-active-bg: #111A2C; /* Fundo do link ativo */
        }

        /* --------------------------------- */
        /* 2. CLASSES TAILWIND CUSTOMIZADAS */
        /* --------------------------------- */
        /* Definindo cores customizadas usando variáveis */
        .bg-primary { background-color: var(--bg-dark); }
        .bg-darker { background-color: var(--bg-darker); }
        .text-primary-text { color: var(--text-primary); }
        .text-secondary-text { color: var(--text-secondary); }
        .text-light { color: var(--text-light); }

        /* Classes customizadas para Sidebar/Nav */
        .bg-hover { background-color: var(--color-hover); }
        .bg-active { background-color: var(--color-active-bg); }

        /* Estilos Base e Mobile */
        body { 
            font-family: 'Inter', sans-serif; 
            padding-top: 4.5rem; 
            background-color: var(--bg-dark); 
            color: var(--text-light);
        }
        
        .page-content-wrapper { padding-bottom: 5rem; }

        @media (min-width: 768px) { 
            body { padding-top: 0; }
            .page-content-wrapper { padding-bottom: 0; }
        }

        /* Lógica da Bottom Bar (Mobile) - Estilo Pill */
        .bottom-nav { box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.5); }
        
        .nav-item-active { 
            position: relative; 
            color: var(--text-primary); 
        } 
        .nav-item-active::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 80%; height: 80%; 
            background-color: color-mix(in srgb, var(--text-primary) 15%, transparent); 
            border-radius: 9999px; transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1); 
            z-index: 0; 
        }
        .nav-item-active svg { position: relative; z-index: 10; fill: none; }

        /* --------------------------------- */
        /* 3. LÓGICA DE MINIMIZAÇÃO/TOGGLE */
        /* --------------------------------- */
        .sidebar-text, .user-info {
            transition: opacity 0.15s linear, width 0.15s linear, visibility 0.15s;
            white-space: nowrap; overflow: hidden;
        }

        /* 3a. Configuração Padrão (Sidebar ABERTA) */
        .desktop-toggle-icon-expand { 
            opacity: 0; /* Ícone de expandir HIDDEN */
            width: 0; 
            margin-right: 0;
            transition: opacity 0.3s, width 0.3s, margin 0.3s;
        }
        .desktop-toggle-icon-minimize { 
            opacity: 1; /* Ícone de minimizar VISIBLE */
            width: 1.5rem;
            transition: opacity 0.3s, width 0.3s, margin 0.3s;
        }


        @media (min-width: 768px) { 
            aside.is-minimized { width: 5rem; }
            aside.is-minimized .user-info,
            aside.is-minimized .sidebar-text { opacity: 0; width: 0; visibility: hidden; }
            aside.is-minimized .nav-link, 
            aside.is-minimized .profile-container, 
            aside.is-minimized .logout-link, 
            aside.is-minimized .desktop-toggle-btn { justify-content: center; }

            /* 3b. Configuração da Sidebar MINIMIZADA: Troca dos Ícones */
            aside.is-minimized .desktop-toggle-icon-expand { 
                opacity: 1; /* Ícone de expandir VISIBLE */
                width: 1.5rem; 
                margin-right: 0.75rem; /* Adiciona um pequeno espaçamento para alinhar com o texto */
            }
            aside.is-minimized .desktop-toggle-icon-minimize { 
                opacity: 0; /* Ícone de minimizar HIDDEN */
                width: 0; 
                margin-left: 0;
            }
        }

        /* Estilo para Tooltips */
        [data-tooltip]:hover:after {
            content: attr(data-tooltip);
            position: absolute; left: calc(100% + 10px); top: 50%; transform: translateY(-50%);
            background-color: var(--bg-medium); color: var(--text-light); 
            padding: 4px 8px; border-radius: 6px;
            font-size: 0.75rem; white-space: nowrap;
            z-index: 60; opacity: 1; pointer-events: none;
        }
        aside:not(.is-minimized) [data-tooltip]:hover:after { content: none; }
        
    </style>
</head>
<body>
    
    <!-- 1. HEADER ESTILO APP (FIXO NO TOPO) -->
    <header class="fixed top-0 left-0 right-0 z-40 bg-darker border-b border-gray-700 py-3 px-4 md:px-6">
        <div class="flex items-center justify-between max-w-7xl mx-auto md:max-w-full">
            
            <!-- Logo/Marca -->
            <div class="hidden md:block text-2xl font-bold text-primary-text flex-shrink-0">
                <span class="text-light">Meu</span>GameHub
            </div>
            
            <!-- Campo de Busca -->
            <div class="flex-grow max-w-lg md:ml-6">
                <div class="relative">
                    <input 
                        type="text" 
                        placeholder="Buscar jogos, apps e mais..."
                        class="w-full py-2 pl-10 pr-4 bg-gray-700 rounded-full focus:ring-2 focus:outline-none placeholder-gray-400 text-sm transition-all"
                        style="color: var(--text-light); --tw-ring-color: var(--text-primary);" 
                    >
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-text">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>
            </div>

            <!-- Botões de Ação -->
            <div class="flex items-center ml-4 space-x-3">
                
                <!-- Ícone de Notificações -->
                <button class="p-2 text-secondary-text hover:text-primary-text transition-colors rounded-full hover:bg-hover">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                </button>

                <!-- Botão de Perfil/Menu (Mobile) -->
                <button id="mobile-sidebar-toggle" class="md:hidden flex-shrink-0">
                    <img 
                        src="https://placehold.co/40x40/2d3748/67E8F9?text=U" 
                        alt="Perfil" 
                        class="w-10 h-10 rounded-full ring-2"
                        style="--tw-ring-color: var(--text-primary); --tw-ring-offset-color: var(--bg-dark);"
                    >
                </button>
            </div>
            
        </div>
    </header>

    <!-- OVERLAY (Fundo escuro para Mobile) -->
    <div id="overlay" class="fixed inset-0 bg-black/60 z-40 hidden md:hidden"></div>
    
    <!-- Container Principal do Conteúdo e Sidebar -->
    <div class="md:flex min-h-screen">

        <!-- 2. SIDEBAR -->
        <aside id="sidebar" class="bg-darker text-light flex flex-col h-screen fixed inset-y-0 left-0 z-50 w-72 md:w-64 md:relative md:translate-x-0 -translate-x-full md:flex transition-all duration-300 ease-in-out">
            
            <!-- Perfil (Topo da Sidebar) -->
            <div class="p-4 pt-8">
                <div class="flex items-center profile-container">
                    <img src="https://placehold.co/80x80/2d3748/67E8F9?text=U" alt="Foto do Perfil" class="w-12 h-12 rounded-full flex-shrink-0">
                    <div class="ml-4 user-info">
                        <p class="font-semibold text-lg text-primary-text">NomeUsuario</p>
                        <p class="text-sm text-secondary-text">usuario@email.com</p>
                    </div>
                </div>
            </div>

            <!-- Botão de Minimizar/Ampliar (Desktop APENAS) -->
            <div class="hidden md:block px-4 py-2">
                <button id="desktop-toggle" class="w-full flex items-center p-2 rounded-md text-secondary-text hover:text-primary-text bg-hover desktop-toggle-btn transition-colors">
                    
                    <!-- Ícone de Minimizar (Padrão: Visível) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="desktop-toggle-icon-minimize"><polyline points="15 18 9 12 15 6"></polyline></svg>
                    
                    <!-- Ícone de Expandir (Padrão: Oculto) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="desktop-toggle-icon-expand">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                    
                    <span class="ml-3 sidebar-text">Minimizar</span>
                </button>
            </div>

            <!-- Navegação -->
            <nav class="flex-grow px-4 py-4 space-y-2">
                
                <p class="text-xs text-secondary-text uppercase font-semibold sidebar-text mb-2 hidden md:block">Navegação Principal</p>
                
                <!-- Links Principais (Visível APENAS Desktop) -->
                <a href="index.php" class="flex items-center p-3 rounded-lg nav-link relative hidden md:flex <?php echo getSidebarLinkClasses('inicio', $activePage); ?>" data-tooltip="Início">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    <span class="ml-4 font-medium sidebar-text">Início</span>
                </a>
                
                <a href="loja.php" class="flex items-center p-3 rounded-lg nav-link relative hidden md:flex <?php echo getSidebarLinkClasses('loja', $activePage); ?>" data-tooltip="Loja">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                    <span class="ml-4 font-medium sidebar-text">Loja</span>
                </a>

                <!-- Links Secundários (Visível em ambas as versões) -->
                <p class="text-xs text-secondary-text uppercase font-semibold sidebar-text mb-2 mt-6">Configurações</p>
                <a href="#" class="flex items-center p-3 rounded-lg nav-link relative hover:bg-hover hover:text-primary-text transition-colors" data-tooltip="Configurações">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 .73 2.73l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-.73-2.73l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                    <span class="ml-4 font-medium sidebar-text">Configurações</span>
                </a>
                
            </nav>

            <!-- Seção de Logout (Baixo) -->
            <div class="p-4 border-t border-gray-700">
                <a href="logout.php" class="flex items-center p-3 rounded-lg hover:bg-hover hover:text-red-500 logout-link transition-colors text-secondary-text relative" data-tooltip="Logout">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                    <span class="ml-4 font-medium sidebar-text">Logout</span>
                </a>
            </div>

        </aside>

        <!-- Conteúdo Principal -->
        <main class="flex-1 p-8 md:p-12 page-content-wrapper">
            
            <!-- LAYOUT DE DASHBOARD (Desktop) -->
            <div class="hidden md:block">
                <h1 class="text-4xl font-extrabold text-primary-text mb-8 border-b border-gray-700 pb-2">Seja Bem-vindo, NomeUsuario</h1>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <!-- Coluna 1: Destaques (2/3 da largura no LG) -->
                    <div class="lg:col-span-2 space-y-8">
                        
                        <!-- Jogo em Destaque (Card Grande) -->
                        <div class="bg-darker rounded-xl shadow-2xl p-6 transition-all duration-300 transform hover:scale-[1.01] shadow-cyan-900/50">
                            <h2 class="text-2xl font-bold text-light mb-4">Destaque da Semana</h2>
                            <img src="https://placehold.co/1200x400/0f172a/67E8F9?text=Novo+Lançamento" alt="Capa do Jogo em Destaque" class="w-full rounded-lg mb-4 object-cover h-48">
                            <p class="text-secondary-text">Um resumo incrível sobre o jogo mais esperado do momento. Clique para pré-venda.</p>
                            
                            <button class="mt-4 w-full text-light font-semibold py-3 rounded-lg hover:opacity-80 transition-colors shadow-lg"
                                style="background-color: var(--text-primary); color: var(--bg-darker); box-shadow: 0 4px 6px -1px rgba(103, 232, 249, 0.4), 0 2px 4px -2px rgba(103, 232, 249, 0.4);">
                                COMPRAR AGORA
                            </button>
                        </div>

                        <!-- Carrossel de Novidades (Simulação de 3 Cartões) -->
                        <div>
                            <h2 class="text-xl font-semibold text-light mb-4">Novidades da Loja</h2>
                            <div class="grid grid-cols-3 gap-4">
                                <?php for ($i = 1; $i <= 3; $i++): ?>
                                    <div class="p-4 rounded-xl hover:ring-2 cursor-pointer transition-all duration-300" 
                                        style="background-color: var(--bg-medium); --tw-ring-color: var(--text-primary);">
                                        <img src="https://placehold.co/200x150/1f2937/d1d5db?text=Jogo+<?php echo $i; ?>" alt="Jogo <?php echo $i; ?>" class="w-full rounded-md mb-2">
                                        <p class="text-sm font-medium text-light">Título do Jogo <?php echo $i; ?></p>
                                        <p class="text-xs text-secondary-text">R$ 59,90</p>
                                    </div>
                                <?php endfor; ?>
                            </div>
                        </div>

                    </div>

                    <!-- Coluna 2: Amigos e Atividade (1/3 da largura no LG) -->
                    <div class="lg:col-span-1 bg-darker rounded-xl shadow-lg p-6 space-y-6">
                        <h2 class="text-xl font-bold text-light mb-4 border-b border-gray-700 pb-2">Status de Amigos</h2>
                        
                        <!-- Atividade de Amigos -->
                        <div class="space-y-4">
                            <?php for ($i = 1; $i <= 3; $i++): ?>
                                <div class="flex items-center space-x-3 hover:bg-hover p-2 rounded-lg cursor-pointer transition-colors">
                                    <img src="https://placehold.co/40x40/2d3748/f59e0b?text=A<?php echo $i; ?>" alt="Amigo <?php echo $i; ?>" class="w-10 h-10 rounded-full flex-shrink-0">
                                    <div>
                                        <p class="text-sm font-medium text-light">Amigo Nome <?php echo $i; ?></p>
                                        <p class="text-xs" style="color: var(--text-primary);">Online - Jogando Game X</p>
                                    </div>
                                </div>
                            <?php endfor; ?>
                        </div>

                        <button class="w-full text-center py-2 border rounded-lg hover:bg-hover transition-colors"
                            style="color: var(--text-primary); border-color: var(--text-primary);">
                            Ver Todos os Amigos
                        </button>
                    </div>

                </div>
            </div>

            <!-- Conteúdo Padrão (Mobile Fallback) -->
            <div class="md:hidden">
                <h1 class="text-3xl font-bold text-primary-text mb-6">Início (Mobile)</h1>
                <p class="mt-4 text-light">
                    O layout mobile foca em uma coluna de conteúdo simples para melhor visualização. Use a barra inferior para navegar!
                </p>
                <!-- Simulando Conteúdo para Mobile -->
                <div class="mt-8 space-y-4">
                    <div class="p-4 rounded-xl" style="background-color: var(--bg-medium);">Card 1</div>
                    <div class="p-4 rounded-xl" style="background-color: var(--bg-medium);">Card 2</div>
                    <div class="p-4 rounded-xl" style="background-color: var(--bg-medium);">Card 3</div>
                </div>
            </div>
            
            <!-- 4. FOOTER (Rodapé da Aplicação) -->
            <footer class="mt-12 pt-8 border-t border-gray-700 text-secondary-text">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    
                    <!-- Links Principais e Marca (Grid no Desktop) -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
                        
                        <!-- Coluna 1: Marca e Slo
